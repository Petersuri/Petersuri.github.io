<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy Anniversary, è´è‰å¨´!</title>
    <style>
        body {
            background: linear-gradient(45deg, #9d4edd, #e0aaff);
            font-family: 'Arial', sans-serif;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .container {
            text-align: center;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .memory-game {
            background: rgba(255,255,255,0.9);
            border-radius: 20px;
            padding: 20px;
            position: relative;
        }

        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: #9d4edd;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
        }

        .memory-card .front,
        .memory-card .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
        }

        .memory-card .front {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" x="50" dominant-baseline="middle" text-anchor="middle" font-size="50">ğŸ¦„</text></svg>') center/contain no-repeat #9d4edd;
        }

        .memory-card .back {
            background: white;
            transform: rotateY(180deg);
        }

        .memory-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
        }

        .memory-card.matched {
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s 0.5s, opacity 0.5s linear;
        }

        .celebration {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            background: rgba(0,0,0,0.8);
        }

        .letter {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 1001;
            animation: openLetter 1s ease-out;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff69b4;
            animation: confetti 5s ease-in-out infinite;
        }

        .balloon {
            position: absolute;
            animation: float 6s ease-in-out infinite;
            font-size: 40px;
        }

        .cute-animal {
            position: absolute;
            font-size: 30px;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes openLetter {
            from { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(720deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="memory-game">
            <div class="memory-grid" id="gameBoard"></div>
        </div>
    </div>

    <div id="celebration" class="celebration">
        <div id="letter" class="letter">
            <h2>äº²çˆ±çš„è´è‰å¨´ï¼Œ</h2>
            <p style="text-align: left; line-height: 1.8;">
                <!-- ä½ çš„ä¿¡ä»¶å†…å®¹ -->
                ä»Šå¤©æ˜¯æˆ‘ä»¬åœ¨ä¸€èµ·çš„ä¸€å‘¨å¹´çºªå¿µæ—¥ï¼Œæˆ‘æƒ³å€Ÿæ­¤æœºä¼šè¡¨è¾¾æˆ‘å¯¹ä½ çš„çˆ±å’Œæ„Ÿæ¿€ä¹‹æƒ…ã€‚è¿™ä¸€å¹´æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·ç»å†äº†è®¸å¤šç¾å¥½çš„æ—¶å…‰ï¼Œæ¯ä¸€ä¸ªç¬é—´éƒ½è®©æˆ‘æ„Ÿåˆ°æ— æ¯”å¹¸ç¦ã€‚
                <br><br>
                ä»æˆ‘ä»¬ç¬¬ä¸€æ¬¡è§é¢åˆ°ç°åœ¨ï¼Œä½ ä¸€ç›´æ˜¯æˆ‘ç”Ÿæ´»ä¸­æœ€é‡è¦çš„äººã€‚ä½ çš„å¾®ç¬‘ã€ä½ çš„æ¸©æŸ”ã€ä½ çš„æ”¯æŒï¼Œéƒ½è®©æˆ‘æ„Ÿå—åˆ°æ— å°½çš„æ¸©æš–å’ŒåŠ›é‡ã€‚æ— è®ºæ˜¯å¼€å¿ƒçš„æ—¶åˆ»è¿˜æ˜¯å›°éš¾çš„æ—¥å­ï¼Œä½ æ€»æ˜¯é™ªåœ¨æˆ‘èº«è¾¹ï¼Œç»™æˆ‘é¼“åŠ±å’Œå®‰æ…°ã€‚è¿™ä¸€å¹´é‡Œï¼Œæˆ‘ä»¬æœ‰è¿‡äº‰åµï¼Œæœ‰è¿‡å›°éš¾ï¼Œæˆ‘ä»¬æ€»æ˜¯åœ¨ç›¸äº’ç†è§£å’Œç›¸äº’å¯¹æŠ—ä¸­æ¥å›å¾˜å¾Šï¼Œä½†æ˜¯è¿™å¹¶ä¸ä¼šå½±å“åˆ°æˆ‘å¯¹ä½ çš„çˆ±æ„ï¼Œåè€Œè¿™æ­£é©±ä½¿æˆ‘å»è®©æˆ‘ä»¬çš„çˆ±æƒ…æ›´ç¾å¥½ã€‚æˆ‘å¾ˆæŠ±æ­‰ï¼Œè¿™ä¸€å¹´æˆ‘è®©ä½ æ„Ÿè§‰åˆ°äº†è¢«å†·è½ï¼Œä¸è¢«ç†è§£ï¼Œå¿å—äº†æˆ‘çš„å¾ˆå¤šåä¹ æƒ¯ï¼Œæˆ‘å¸Œæœ›åœ¨æˆ‘ä»¬æ–°çš„ä¸€å¹´å†…ï¼Œæˆ‘èƒ½å˜å¾—æ›´åŠ æœ‰è´£ä»»æ„Ÿï¼Œæ›´åŠ çš„å»è¡¨è¾¾è‡ªå·±çš„å¯¹ä½ çš„çˆ±æ„ï¼Œæˆ‘ä¸ºæˆ‘åœ¨è¿™æ®µæ„Ÿæƒ…é‡Œåšçš„ä¸å¥½è€Œæ„Ÿåˆ°æŠ±æ­‰ã€‚æˆ‘ä¹Ÿå¸Œæœ›æˆ‘ä»¬èƒ½å¤Ÿæ—©æ—¥é‡èšï¼Œè®©æˆ‘ä»¬çš„æ¯å¤©éƒ½å……æ»¡æœŸå¾…å’Œçˆ±ï¼
                <br><br>
                æˆ‘å¾ˆå¹¸è¿èƒ½é‡è§ä½ ï¼Œæ›´å¹¸è¿çš„æ˜¯èƒ½å’Œä½ ä¸€èµ·èµ°è¿‡è¿™ä¸€å¹´ã€‚æœªæ¥çš„æ—¥å­é‡Œï¼Œæˆ‘å¸Œæœ›æˆ‘ä»¬èƒ½ç»§ç»­æºæ‰‹ï¼Œå…±åŒåˆ›é€ æ›´å¤šç¾å¥½çš„å›å¿†ã€‚æ— è®ºå‰æ–¹çš„è·¯æœ‰å¤šä¹ˆåå·ï¼Œæˆ‘éƒ½ä¼šä¸€ç›´é™ªä¼´ç€ä½ ï¼Œçˆ±æŠ¤ç€ä½ ã€‚
                <br><br>
                è°¢è°¢ä½ ï¼Œäº²çˆ±çš„ï¼Œè®©æˆ‘çš„ç”Ÿæ´»å˜å¾—å¦‚æ­¤ç¾å¥½ã€‚æ„¿æˆ‘ä»¬åœ¨æœªæ¥çš„æ¯ä¸€å¤©éƒ½èƒ½ä¸€èµ·å¹¸ç¦å¿«ä¹ï¼ï¼
                <br><br>
                çˆ±ä½ çš„ï¼Œè‹å¹¿é¹
            </p>
        </div>
    </div>

    <script>
        // æ·»åŠ å¯çˆ±çš„åŠ¨ç‰©è£…é¥°
        const animals = ['ğŸ¦„', 'ğŸ°', 'ğŸ¦Š', 'ğŸ¼', 'ğŸ¦‹'];
        for(let i = 0; i < 10; i++) {
            const animal = document.createElement('div');
            animal.className = 'cute-animal';
            animal.textContent = animals[Math.floor(Math.random() * animals.length)];
            animal.style.left = Math.random() * 100 + 'vw';
            animal.style.top = Math.random() * 100 + 'vh';
            document.body.appendChild(animal);
        }

        function createCelebration() {
            const celebration = document.getElementById('celebration');
            const letter = document.getElementById('letter');
            
            // åˆ›å»ºç¤¼èŠ±
            for(let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDelay = Math.random() * 2 + 's';
                celebration.appendChild(confetti);
            }

            // åˆ›å»ºæ°”çƒ
            const balloons = ['ğŸˆ', 'ğŸŠ', 'âœ¨', 'ğŸ’', 'ğŸ’–'];
            for(let i = 0; i < 20; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                balloon.textContent = balloons[Math.floor(Math.random() * balloons.length)];
                balloon.style.left = Math.random() * 100 + 'vw';
                balloon.style.animationDelay = Math.random() * 2 + 's';
                celebration.appendChild(balloon);
            }

            celebration.style.display = 'block';
            setTimeout(() => {
                letter.style.display = 'block';
            }, 1000);
        }

        const memoryGame = {
            cards: [],
            flippedCards: [],
            matched: new Set(),

            initialize() {
                const imageNames = ['photo1.jpg', 'photo2.jpg', 'photo3.jpg', 'photo4.jpg', 
                                  'photo5.jpg', 'photo6.jpg', 'photo7.jpg', 'photo8.jpg'];
                this.cards = [...imageNames, ...imageNames];
                this.cards.sort(() => Math.random() - 0.5);
                
                const gameBoard = document.getElementById('gameBoard');
                gameBoard.innerHTML = '';
                
                this.cards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'memory-card';
                    cardElement.innerHTML = `
                        <div class="front"></div>
                        <div class="back">
                            <img src="${card}" alt="Memory Card">
                        </div>
                    `;
                    cardElement.dataset.index = index;
                    cardElement.onclick = () => this.flipCard(index);
                    gameBoard.appendChild(cardElement);
                });
            },

            flipCard(index) {
                const card = document.querySelector(`[data-index="${index}"]`);
                
                if (this.flippedCards.length >= 2 || 
                    this.flippedCards.includes(index) || 
                    this.matched.has(index)) {
                    return;
                }

                card.classList.add('flipped');
                this.flippedCards.push(index);

                if (this.flippedCards.length === 2) {
                    const [first, second] = this.flippedCards;
                    if (this.cards[first] === this.cards[second]) {
                        // åŒ¹é…æˆåŠŸï¼Œå¡ç‰‡æ¶ˆå¤±
                        setTimeout(() => {
                            document.querySelector(`[data-index="${first}"]`).classList.add('matched');
                            document.querySelector(`[data-index="${second}"]`).classList.add('matched');
                        }, 500);
                        this.matched.add(first);
                        this.matched.add(second);
                        this.flippedCards = [];
                        
                        if (this.matched.size === this.cards.length) {
                            setTimeout(createCelebration, 1000);
                        }
                    } else {
                        setTimeout(() => {
                            document.querySelector(`[data-index="${first}"]`).classList.remove('flipped');
                            document.querySelector(`[data-index="${second}"]`).classList.remove('flipped');
                            this.flippedCards = [];
                        }, 1000);
                    }
                }
            }
        };

        window.onload = () => {
            memoryGame.initialize();
        };
    </script>
</body>
</html>
